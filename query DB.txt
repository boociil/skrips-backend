/////////////////////////////////
MENDAPATKAN KODE KECAMATAN - SLS
---------------------------------
SELECT sls.kode AS 'KODE SLS', sls.nama_x AS 'Nama SLS', desa.kode AS 'Kode Desa', desa.nama AS 'Desa', kecamatan.kode AS 'Kode Kecamatan', kecamatan.nama AS 'Kecamatan'
FROM `sls`

INNER JOIN desa ON sls.kode_desa = desa.kode AND sls.kode_kec = desa.kode_kec
INNER JOIN kecamatan on desa.kode_kec = kecamatan.kode

;

/////////////////////////////////


MENDAPATKAN KOSEKA BESERTA KECAMATAN
---------------------------------
SELECT koseka.nama AS "Koseka", kecamatan.nama AS "Kecamatan" FROM `koseka` 
INNER JOIN kecamatan ON kecamatan.kode = koseka.id_kec
WHERE id_kegiatan = "ST2023"
ORDER BY id_kec ASC;

/////////////////////////////////


MENDAPATKAN DOKUMEN BESERTA NAMA WILAYAH DAN NAMA ORGANISASI LAPANGAN
---------------------------------
SELECT dokumen.kode_sls AS "Kode SLS", sls.nama_x AS 'SLS' , dokumen.kode_desa AS 'Kode Desa', desa.nama AS 'Desa' , dokumen.kode_kec AS 'Kode Kecamatan' ,kecamatan.nama AS 'Kecamatan', dokumen.id_ppl, ppl.nama AS 'PPL', dokumen.id_pml, pml.nama AS 'PML', dokumen.id_koseka ,koseka.nama AS 'Koseka'
FROM `dokumen` 

INNER JOIN kecamatan ON dokumen.kode_kec = kecamatan.kode
INNER JOIN desa ON dokumen.kode_desa = desa.kode AND dokumen.kode_kec = desa.kode_kec
INNER JOIN sls ON dokumen.kode_sls = sls.kode AND dokumen.kode_desa = sls.kode_desa AND dokumen.kode_kec = sls.kode_kec
LEFT JOIN koseka ON dokumen.id_koseka = koseka.id
LEFT JOIN pml ON dokumen.id_pml = pml.id 
LEFT JOIN ppl ON dokumen.id_ppl = ppl.id

WHERE dokumen.id_kegiatan = 'ST2023' AND koseka.id_kegiatan = 'ST2023' AND pml.id_kegiatan = 'ST2023' AND ppl.id_kegiatan = 'ST2023';

/////////////////////////////////


MIRIP SEPERTI YANG DIATAS, TP INI MENGAMBIL WAKTU EDCOD DAN ENTRI
---------------------------------
SELECT dokumen.kode_sls AS "Kode SLS", sls.nama_x AS 'SLS' , dokumen.kode_desa AS 'Kode Desa', desa.nama AS 'Desa' , dokumen.kode_kec AS 'Kode Kecamatan' ,kecamatan.nama AS 'Kecamatan', dokumen.id_ppl, ppl.nama AS 'PPL', dokumen.id_pml, pml.nama AS 'PML', dokumen.id_koseka ,koseka.nama AS 'Koseka', sensus.tgl_pengdok, sensus.tgl_entri, sensus.start_edcod, sensus.end_edcod
FROM `dokumen` 

INNER JOIN kecamatan ON dokumen.kode_kec = kecamatan.kode
INNER JOIN desa ON dokumen.kode_desa = desa.kode AND dokumen.kode_kec = desa.kode_kec
INNER JOIN sls ON dokumen.kode_sls = sls.kode AND dokumen.kode_desa = sls.kode_desa AND dokumen.kode_kec = sls.kode_kec
LEFT JOIN koseka ON dokumen.id_koseka = koseka.id
LEFT JOIN pml ON dokumen.id_pml = pml.id 
LEFT JOIN ppl ON dokumen.id_ppl = ppl.id

LEFT JOIN sensus ON dokumen.id_dok = sensus.id_dok

WHERE dokumen.id_kegiatan = 'ST2023' AND koseka.id_kegiatan = 'ST2023' AND pml.id_kegiatan = 'ST2023' AND ppl.id_kegiatan = 'ST2023' AND sensus.id_kegiatan = 'ST2023';
/////////////////////////////////


MENDAPATKAN SEPERTI SPREADSHEET
---------------------------------
SELECT  dokumen.kode_kec AS 'Kode Kecamatan' ,kecamatan.nama AS 'Kecamatan',dokumen.kode_sls AS "Kode SLS",  dokumen.kode_desa AS 'Kode Desa', desa.nama AS 'Desa' , sls.nama_x AS 'SLS' , dokumen.id_ppl, ppl.nama AS 'PPL', dokumen.id_pml, pml.nama AS 'PML', dokumen.id_koseka ,koseka.nama AS 'Koseka', sensus.tgl_pengdok, sensus.tgl_entri, sensus.start_edcod, sensus.end_edcod
FROM `dokumen` 

INNER JOIN kecamatan ON dokumen.kode_kec = kecamatan.kode
INNER JOIN desa ON dokumen.kode_desa = desa.kode AND dokumen.kode_kec = desa.kode_kec
INNER JOIN sls ON dokumen.kode_sls = sls.kode AND dokumen.kode_desa = sls.kode_desa AND dokumen.kode_kec = sls.kode_kec
LEFT JOIN koseka ON dokumen.id_koseka = koseka.id
LEFT JOIN pml ON dokumen.id_pml = pml.id 
LEFT JOIN ppl ON dokumen.id_ppl = ppl.id

LEFT JOIN sensus ON dokumen.id_dok = sensus.id_dok

WHERE dokumen.id_kegiatan = 'ST2023' AND koseka.id_kegiatan = 'ST2023' AND pml.id_kegiatan = 'ST2023' AND ppl.id_kegiatan = 'ST2023' AND sensus.id_kegiatan = 'ST2023';

/////////////////////////////////

---------------------------------
MENDAPATKAN INFORMASI PENGOLAHAN SUATU KEGIATAN
(Ganti id kegiatan, dan join dengan tabel ppl,pml dan koseka)

SELECT dokumen.kode_kec, dokumen.kode_desa, dokumen.kode_sls, dokumen.id_ppl, dokumen.id_pml, dokumen.id_koseka, sensus.total_dokumen, sensus.tgl_pengdok, sensus.penerima_dok, sensus.status_pengdok, sensus.status_edcod, sensus.petugas_edcod, sensus.start_edcod, sensus.end_edcod, sensus.status_entri, sensus.petugas_entri, sensus.tgl_entri
FROM `dokumen` 

INNER JOIN sensus on dokumen.id_kegiatan = sensus.id_kegiatan AND dokumen.id_dok = sensus.id_dok

WHERE dokumen.id_kegiatan = 'ST2023' AND sensus.id_kegiatan = 'ST2023'

ORDER BY dokumen.kode_kec, dokumen.kode_desa, dokumen.kode_sls ASC

;
/////////////////////////////////


SELECT dokumen.kode_kec, kecamatan.nama ,dokumen.kode_desa, desa.nama, dokumen.kode_sls, sls.nama_x , dokumen.id_ppl, dokumen.id_pml, dokumen.id_koseka, sensus.total_dokumen, sensus.tgl_pengdok, sensus.penerima_dok, sensus.status_pengdok, sensus.status_edcod, sensus.petugas_edcod, sensus.start_edcod, sensus.end_edcod, sensus.status_entri, sensus.petugas_entri, sensus.tgl_entri 
FROM `dokumen` 

INNER JOIN sensus on dokumen.id_kegiatan = sensus.id_kegiatan AND dokumen.id_dok = sensus.id_dok 
INNER JOIN kecamatan on kecamatan.kode = dokumen.kode_kec
INNER JOIN desa on desa.kode = dokumen.kode_desa
INNER JOIN sls on sls.nama_x = dokumen.kode_sls

WHERE dokumen.id_kegiatan = 'ST2023' AND sensus.id_kegiatan = 'ST2023' 

ORDER BY dokumen.kode_kec, dokumen.kode_desa, dokumen.kode_sls ASC
;